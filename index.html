<!DOCTYPE html>
<html>
    <head>
        <title>Arduino I/O</title>
		

<h1>Arduino I/O</h1>
			
        <script>
		strLED22 = "";
		strLED24 = "";
		strLED26 = "";
		strLED28 = "";
		strLED30 = "";
		strLED32 = "";
		strLED34 = "";
		strLED36 = "";
		
		strLED38 = "";
		strLED40 = "";
		strLED42 = "";
		strLED44 = "";
		strLED46 = "";
		strLED48 = "";
		
		
		function GetArduinoIO()
		{
			nocache = "&nocache=" + Math.random() * 1000000;
			var request = new XMLHttpRequest();
			request.onreadystatechange = function()
			{
				if (this.readyState == 4) {
					if (this.status == 200) {
						if (this.responseXML != null) {
							// XML file received - contains analog values, switch values and LED states
							var count;
							// get analog inputs
							var num_an = this.responseXML.getElementsByTagName('analog').length;
							for (count = 0; count < num_an; count++) {
								document.getElementsByClassName("analog")[count].innerHTML =
									this.responseXML.getElementsByTagName('analog')[count].childNodes[0].nodeValue;
							}
							// get switch inputs
							var num_an = this.responseXML.getElementsByTagName('switch').length;
							for (count = 0; count < num_an; count++) {
								document.getElementsByClassName("switches")[count].innerHTML =
									this.responseXML.getElementsByTagName('switch')[count].childNodes[0].nodeValue;
							}
							// LED 22
							if (this.responseXML.getElementsByTagName('LED')[0].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED22.checked = true;
							}
							else {
								document.LED_form.LED22.checked = false;
							}
							// LED 24
							if (this.responseXML.getElementsByTagName('LED')[1].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED24.checked = true;
							}
							else {
								document.LED_form.LED24.checked = false;
							}
							
							// LED 26
							if (this.responseXML.getElementsByTagName('LED')[2].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED26.checked = true;
							}
							else {
								document.LED_form.LED26.checked = false;
							}
							
							// LED 28
							if (this.responseXML.getElementsByTagName('LED')[3].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED28.checked = true;
							}
							else {
								document.LED_form.LED28.checked = false;
							}
							
							// LED 30
							if (this.responseXML.getElementsByTagName('LED')[4].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED30.checked = true;
							}
							else {
								document.LED_form.LED30.checked = false;
							}
							
							// LED 32
							if (this.responseXML.getElementsByTagName('LED')[5].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED32.checked = true;
							}
							else {
								document.LED_form.LED32.checked = false;
							}
							
							// LED 34
							if (this.responseXML.getElementsByTagName('LED')[6].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED34.checked = true;
							}
							else {
								document.LED_form.LED34.checked = false;
							}
							
							// LED 36
							if (this.responseXML.getElementsByTagName('LED')[7].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED36.checked = true;
							}
							else {
								document.LED_form.LED36.checked = false;
							}
							
							
							
							// LED 38
							if (this.responseXML.getElementsByTagName('LED')[8].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED38.checked = true;
							}
							else {
								document.LED_form.LED38.checked = false;
							}
							// LED 40
							if (this.responseXML.getElementsByTagName('LED')[9].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED40.checked = true;
							}
							else {
								document.LED_form.LED40.checked = false;
							}
							// LED 42
							if (this.responseXML.getElementsByTagName('LED')[10].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED42.checked = true;
							}
							else {
								document.LED_form.LED42.checked = false;
							}
							// LED 44
							if (this.responseXML.getElementsByTagName('LED')[11].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED44.checked = true;
							}
							else {
								document.LED_form.LED44.checked = false;
							}
							// LED 46
							if (this.responseXML.getElementsByTagName('LED')[12].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED46.checked = true;
							}
							else {
								document.LED_form.LED46.checked = false;
							}
							// LED 48
							if (this.responseXML.getElementsByTagName('LED')[13].childNodes[0].nodeValue === "checked") {
								document.LED_form.LED48.checked = true;
							}
							else {
								document.LED_form.LED48.checked = false;
							}
							
							
							
							
							
						}
					}
				}
			}
			// send HTTP GET request with LEDs to switch on/off if any
			request.open("GET", "ajax_inputs" + strLED22 + strLED24 + strLED26 + strLED28 + strLED30 + strLED32 + strLED34 + strLED36 + strLED38 + strLED40 + strLED42 + strLED44 + strLED46 + strLED48 + nocache, true);
			request.send(null);
			setTimeout('GetArduinoIO()', 3000);
			strLED22 = "";
			strLED24 = "";
			strLED26 = "";
			strLED28 = "";
		    strLED30 = "";
			strLED32 = "";
			strLED34 = "";
			strLED36 = "";
			
			strLED38 = "";
		    strLED40 = "";
			strLED42 = "";
			strLED44 = "";
			strLED46 = "";
			strLED48 = "";
		}
		// service LEDs when checkbox checked/unchecked
		function GetCheck()
		{
			if (LED_form.LED22.checked) {
				strLED22 = "&LED22=1";
			}
			else {
				strLED22 = "&LED22=0";
			}
			
			if (LED_form.LED24.checked) {
				strLED24 = "&LED24=1";
			}
			else {
				strLED24 = "&LED24=0";
			}
			
			if (LED_form.LED26.checked) {
				strLED26 = "&LED26=1";
			}
			else {
				strLED26 = "&LED26=0";
			}
			
			if (LED_form.LED28.checked) {
				strLED28 = "&LED28=1";
			}
			else {
				strLED28 = "&LED28=0";
			}
			
			if (LED_form.LED30.checked) {
				strLED30 = "&LED30=1";
			}
			else {
				strLED30 = "&LED30=0";
			}
			
			if (LED_form.LED32.checked) {
				strLED32 = "&LED32=1";
			}
			else {
				strLED32 = "&LED32=0";
			}
			
			if (LED_form.LED34.checked) {
				strLED34 = "&LED34=1";
			}
			else {
				strLED34 = "&LED34=0";
			}
			
			if (LED_form.LED36.checked) {
				strLED36 = "&LED36=1";
			}
			else {
				strLED36 = "&LED36=0";
			}
			
			
			
			if (LED_form.LED38.checked) {
				strLED38 = "&LED38=1";
			}
			else {
				strLED38 = "&LED38=0";
			}
			if (LED_form.LED40.checked) {
				strLED40 = "&LED40=1";
			}
			else {
				strLED40 = "&LED40=0";
			}
			if (LED_form.LED42.checked) {
				strLED42 = "&LED42=1";
			}
			else {
				strLED42 = "&LED42=0";
			}
			if (LED_form.LED44.checked) {
				strLED44 = "&LED44=1";
			}
			else {
				strLED44 = "&LED44=0";
			}
			if (LED_form.LED46.checked) {
				strLED46 = "&LED46=1";
			}
			else {
				strLED46 = "&LED46=0";
			}
			if (LED_form.LED48.checked) {
				strLED48 = "&LED48=1";
			}
			else {
				strLED48 = "&LED48=0";
			}
			
			
			
			
			
			
			
		}
		
		
</script>
	
	

<p style="text-align:lef;">
<script type="text/javascript">
function display_c(){
var refresh=1000; // Refresh rate in milli seconds
mytime=setTimeout('display_ct()',refresh)
}

function display_ct() {
var strcount
var x = new Date()
var x1=x.toUTCString();// changing the display to UTC string
tt=display_c();

document.getElementById('ct').style.fontSize='10px';
document.getElementById('ct').innerHTML = x1;
}
</script>
</ p>		

<SCRIPT TYPE="text/javascript"> 
function init(){
display_ct();
GetArduinoIO();
}
</SCRIPT>



	
	
	<style>
		.IO_box {
			float: left;
			margin: 0 20px 20px 0;
			border: 1px solid blue;
			padding: 0 5px 0 5px;
			width: 220px;
		}
		h1 {
			font-size: 120%;
			color: blue;
			margin: 0 0 10px 0;
		}
		h2 {
			font-size: 85%;
			color: #5734E6;
			margin: 5px 0 5px 0;
		}
		p, form, button {
			font-size: 80%;
			color: #252525;
		}
		.small_text {
			font-size: 70%;
			color: #737373;
		}
	</style>
    </head>
	

<body onload=init(); >
<span id='ct' ></span>





       
		
		
		
		
        <div class="IO_box">
			<h2>Analog Inputs</h2>
			<p> in(A2)&nbsp&nbsp : <span class="analog">...</span></p>
			<p> in(A3)&nbsp&nbsp: <span class="analog">...</span></p>
			<p> in(A4)&nbsp&nbsp: <span class="analog">...</span></p>
			<p> in(A5)&nbsp&nbsp: <span class="analog">...</span></p>
			<p> in(A6)&nbsp&nbsp: <span class="analog">...</span></p>
			<p> in(A7)&nbsp&nbsp: <span class="analog">...</span></p>
			<p> in(A8)&nbsp&nbsp: <span class="analog">...</span></p>
			<p> in(A9)&nbsp&nbsp: <span class="analog">...</span></p>
			<p> in(A10): <span class="analog">...</span></p>
			<p> in(A11): <span class="analog">...</span></p>
			<p> in(A12): <span class="analog">...</span></p>
			<p> in(A13): <span class="analog">...</span></p>
			<p> in(A14): <span class="analog">...</span></p>
			<p> in(A15): <span class="analog">...</span></p>
			<p class="small_text">A0, A1 Disponibles</p>
		</div>
		<div class="IO_box">
			<h2>Digital Inputs</h2>

			<p>in(D23): <span class="switches">...</span></p>
			<p>in(D25): <span class="switches">...</span></p>
			<p>in(D27): <span class="switches">...</span></p>
			<p>in(D29): <span class="switches">...</span></p>
			<p>in(D31): <span class="switches">...</span></p>
			<p>in(D33): <span class="switches">...</span></p>
			<p>in(D35): <span class="switches">...</span></p>
			<p>in(D37): <span class="switches">...</span></p> 
			
			<p>in(D39): <span class="switches">...</span></p>
			<p>in(D41): <span class="switches">...</span></p>
			<p>in(D43): <span class="switches">...</span></p>
			<p>in(D45): <span class="switches">...</span></p>
			<p>in(D47): <span class="switches">...</span></p>
			<p>in(D49): <span class="switches">...</span></p>
	        <p class="small_text">51, Ethernet Shield</p>
			
		</div>
		<div class="IO_box">
			<h2>Digital Outputs</h2>
			<form id="check_LEDs" name="LED_form">
				<input type="checkbox" name="LED22" value="0" onclick="GetCheck()" />out(D22)</p>
				<input type="checkbox" name="LED24" value="0" onclick="GetCheck()" />out(D24)</p>
				<input type="checkbox" name="LED26" value="0" onclick="GetCheck()" />out(D26)</p>
				<input type="checkbox" name="LED28" value="0" onclick="GetCheck()" />out(D28)</p>
				<input type="checkbox" name="LED30" value="0" onclick="GetCheck()" />out(D30)</p>
				<input type="checkbox" name="LED32" value="0" onclick="GetCheck()" />out(D32)</p>
				<input type="checkbox" name="LED34" value="0" onclick="GetCheck()" />out(D34)</p>
				<input type="checkbox" name="LED36" value="0" onclick="GetCheck()" />out(D36)</p>
				
				<input type="checkbox" name="LED38" value="0" onclick="GetCheck()" />out(D38)</p>
				<input type="checkbox" name="LED40" value="0" onclick="GetCheck()" />out(D40)</p>
				<input type="checkbox" name="LED42" value="0" onclick="GetCheck()" />out(D42)</p>
				<input type="checkbox" name="LED44" value="0" onclick="GetCheck()" />out(D44)</p>
				<input type="checkbox" name="LED46" value="0" onclick="GetCheck()" />out(D46)</p>
				<input type="checkbox" name="LED48" value="0" onclick="GetCheck()" />out(D48)</p>
				<p class="small_text">50,  52 Ethernet Shield</p>
				
				
			</form>
			
		</div>

	

		
	
	
	
	
		
</body>
</html>
